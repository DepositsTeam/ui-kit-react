{"version":3,"file":"FilePicker.stories-6ed7a865.js","sources":["../../src/components/icons/filled/CloudUploadFilledIcon.jsx","../../src/components/file-picker/FilePicker.jsx"],"sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst CloudUploadIconFilledComponent = ({ fill, smartColor, props }) => {\n  return (\n    <>\n      <path\n        d=\"M23.441 21.9149H17V15.4149H19.127C19.2495 15.4149 19.3695 15.381 19.4739 15.3171C19.5783 15.2532 19.663 15.1617 19.7188 15.0527C19.7745 14.9437 19.7991 14.8215 19.7898 14.6994C19.7805 14.5773 19.7376 14.4602 19.666 14.3609L15.533 8.63593C15.4721 8.55048 15.3916 8.48083 15.2983 8.43276C15.205 8.3847 15.1015 8.35962 14.9965 8.35962C14.8916 8.35962 14.7881 8.3847 14.6948 8.43276C14.6015 8.48083 14.521 8.55048 14.46 8.63593L10.322 14.3609C10.2501 14.4601 10.2069 14.5773 10.1974 14.6995C10.1879 14.8217 10.2125 14.9441 10.2683 15.0533C10.3241 15.1624 10.409 15.2539 10.5136 15.3178C10.6182 15.3816 10.7385 15.4152 10.861 15.4149H12.988V21.9149H5.78104C4.18875 21.7496 2.71493 20.9978 1.64638 19.8057C0.577829 18.6137 -0.00901646 17.0668 4.22965e-05 15.4659C0.00039384 14.3993 0.280118 13.3513 0.81137 12.4264C1.34262 11.5014 2.10687 10.7317 3.02804 10.1939C2.86008 9.73667 2.77508 9.25308 2.77704 8.76594C2.77652 8.22002 2.88366 7.67935 3.09233 7.17488C3.301 6.67042 3.60711 6.21205 3.99313 5.82603C4.37916 5.44 4.83752 5.1339 5.34199 4.92523C5.84645 4.71655 6.38712 4.60942 6.93304 4.60994C7.41819 4.6085 7.89971 4.6935 8.35504 4.86094C9.13143 3.21198 10.4278 1.86358 12.045 1.02294C13.6621 0.182295 15.5106 -0.104078 17.3063 0.207834C19.102 0.519746 20.7456 1.41268 21.9845 2.74942C23.2235 4.08616 23.9892 5.79275 24.164 7.60694C25.8702 7.9438 27.3981 8.88374 28.4681 10.2548C29.538 11.6258 30.0786 13.3362 29.9908 15.0732C29.903 16.8101 29.1928 18.4573 27.9901 19.7135C26.7873 20.9697 25.1725 21.7508 23.441 21.9139V21.9149Z\"\n        fill={smartColor || fill}\n      />\n    </>\n  );\n};\n\nconst CloudUploadFilledIcon = {\n  component: CloudUploadIconFilledComponent,\n  viewBox: \"0 0 30 22\",\n  fill: \"none\",\n};\n\nCloudUploadIconFilledComponent.propTypes = {\n  fill: PropTypes.string,\n  stroke: PropTypes.string,\n  strokeWidth: PropTypes.string,\n  strokeLineCap: PropTypes.string,\n  strokeLineJoin: PropTypes.string,\n  smartColor: PropTypes.string,\n};\n\nCloudUploadIconFilledComponent.defaultProps = {\n  stroke: \"black\",\n  strokeWidth: \"1.5\",\n  strokeLineCap: \"round\",\n  strokeLineJoin: \"round\",\n};\n\nexport default CloudUploadFilledIcon;\n","import React, { useRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Box from \"../box\";\nimport Text from \"../text\";\nimport AutoLayout from \"../auto-layout\";\nimport classNames from \"../../utils/classNames\";\nimport CloseIcon from \"../icons/Close.jsx\";\nimport CloudUploadFilledIcon from \"../icons/filled/CloudUploadFilledIcon.jsx\";\nimport ErrorIcon from \"../icons/Error.jsx\";\nimport { useFilePicker } from \"../../utils/hooks/useFilePicker.hook\";\nimport Icon from \"../icon\";\nimport \"./FilePicker.scss\";\nimport Heading from \"../heading\";\n\nconst FilePicker = ({\n  label,\n  disabled,\n  labelClass,\n  accepts,\n  errorMessage,\n  onChange,\n  onCleared,\n  maxFiles,\n  fileMaxSize,\n  children,\n  btnText,\n  title,\n  primaryColorScheme,\n  description,\n  ...props\n}) => {\n  const file = useRef(null);\n\n  const {\n    emptyFile,\n    updateName,\n    computedErrorMessage,\n    computedAccepts,\n    selectedFileName,\n  } = useFilePicker(\n    {\n      accepts,\n      errorMessage,\n      onChange,\n      onCleared,\n      maxFiles,\n      fileMaxSize,\n    },\n    file\n  );\n  return (\n    <Box className={\"ui-file-picker-box__wrapper\"}>\n      {label && (\n        <Box is={\"label\"}>\n          <Text\n            marginTop=\"0px\"\n            className={classNames(\n              {\n                labelClass,\n              },\n              \"ui-text-field__label\"\n            )}\n            scale=\"subhead\"\n            fontFace=\"labelFontFace\"\n          >\n            {label}\n          </Text>\n        </Box>\n      )}\n      <Box\n        className={classNames({\n          \"ui-file-picker-box\": true,\n          primaryColorScheme,\n        })}\n      >\n        <Box\n          type=\"file\"\n          className=\"ui-file-picker-input\"\n          is=\"input\"\n          ref={file}\n          {...props}\n          disabled={disabled}\n          onChange={updateName}\n          accept={computedAccepts}\n        ></Box>\n        {selectedFileName && (\n          <Box className=\"close-btn\" onClick={emptyFile}>\n            <Icon icon={CloseIcon} />\n          </Box>\n        )}\n\n        <Box\n          className={classNames({\n            \"file-picker__icon-wrapper\": true,\n            primaryColorScheme,\n          })}\n        >\n          <Icon height={\"32px\"} width={\"32px\"} icon={CloudUploadFilledIcon} />\n        </Box>\n        {selectedFileName ? (\n          \"\"\n        ) : children ? (\n          children\n        ) : (\n          <AutoLayout\n            className=\"placeholder\"\n            marginTop=\"16px\"\n            alignment=\"center\"\n            direction=\"vertical\"\n          >\n            {title && (\n              <Heading\n                center\n                marginTop={\"0px\"}\n                scale={\"h5\"}\n                color={\"#1B1E21\"}\n                fontFace={\"circularSTD\"}\n              >\n                {title}\n              </Heading>\n            )}\n            {description ? (\n              description\n            ) : (\n              <>\n                <Text center marginY=\"0\" fontFace=\"circularSTD\">\n                  Drag & Drop to upload or{\" \"}\n                  <Box is={\"span\"} className=\"blue\">\n                    browse\n                  </Box>{\" \"}\n                  to choose files\n                </Text>\n                <Text center marginY=\"0\" fontFace=\"circularSTD\">\n                  {computedAccepts ? (\n                    <Box is={\"span\"}>\n                      Supported file types ({computedAccepts}).\n                    </Box>\n                  ) : (\n                    <Box is={\"span\"}>(</Box>\n                  )}\n                  Max upload size: (MB)\n                </Text>\n              </>\n            )}\n          </AutoLayout>\n        )}\n        {selectedFileName && (\n          <Text fontFace=\"circularSTD\" marginTop=\"16px\">\n            {selectedFileName}\n          </Text>\n        )}\n      </Box>\n      {computedErrorMessage && (\n        <Box className=\"ui-text-field__error\">\n          <ErrorIcon className=\"ui-text-field__error-icon\" />\n          <Box\n            className=\"ui-text-field__error-text\"\n            scale=\"subhead\"\n            fontFace=\"circularSTD\"\n          >\n            {computedErrorMessage}\n          </Box>\n        </Box>\n      )}\n    </Box>\n  );\n};\n\nexport default FilePicker;\n\nFilePicker.propTypes = {\n  btnText: PropTypes.string,\n  fileMaxSize: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  accepts: (props, propName) => {\n    const value = props[propName];\n    if (typeof value === \"string\" || Array.isArray(value)) {\n      if (typeof value === \"string\") {\n        if (value === \"image\" && value === \"document\" && value === \"csv\") {\n          throw new Error(\n            \"The only allowed string values for `accepts` are: 'image', 'document' and 'csv\"\n          );\n        }\n      } else {\n        if ([...new Set(value)].length !== value.length) {\n          throw new Error(\n            \"`accepts` prop can only accept an array of unique mimetypes\"\n          );\n        }\n      }\n    } else {\n      throw new Error(\"`accepts` prop must be either a string or an array\");\n    }\n  },\n  label: PropTypes.string,\n  errorMessage: PropTypes.string,\n  disabled: PropTypes.bool,\n  labelFontFace: PropTypes.string,\n  labelClass: PropTypes.string,\n  maxFiles: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  title: PropTypes.string,\n  primaryColorScheme: PropTypes.bool,\n  description: PropTypes.string,\n};\n\nFilePicker.defaultProps = {\n  btnText: \"Choose File\",\n  fileMaxSize: 100,\n  maxFiles: 1,\n  accepts: [\".csv\", \".xls\", \".xlsx\", \".pdf\"],\n};\n"],"names":["CloudUploadIconFilledComponent","fill","smartColor","props","jsx","Fragment","CloudUploadFilledIcon","PropTypes","FilePicker","label","disabled","labelClass","accepts","errorMessage","onChange","onCleared","maxFiles","fileMaxSize","children","btnText","title","primaryColorScheme","description","file","useRef","emptyFile","updateName","computedErrorMessage","computedAccepts","selectedFileName","useFilePicker","jsxs","Box","Text","classNames","Icon","CloseIcon","AutoLayout","Heading","ErrorIcon","FilePicker$1","propName","value"],"mappings":"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"}