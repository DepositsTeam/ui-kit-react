{"version":3,"file":"Tab.stories-ddc66d37.js","sources":["../../src/components/tab/Tab.jsx"],"sourcesContent":["import React, { useState, useLayoutEffect, useEffect } from \"react\";\nimport \"./Tab.scss\";\nimport PropTypes from \"prop-types\";\nimport Box from \"../box\";\nimport keyGen from \"../../utils/keyGen\";\nimport Text from \"../text\";\nimport classNames from \"../../utils/classNames\";\n\nconst Tab = ({\n  is,\n  text,\n  tabs,\n  className,\n  initiallyActiveTab,\n  horizontal,\n  spacing,\n  onTabChange,\n  ...props\n}) => {\n  const [internalActive, setInternalActive] = useState(0);\n\n  useLayoutEffect(() => {\n    if (\n      initiallyActiveTab !== undefined &&\n      typeof initiallyActiveTab === \"number\"\n    ) {\n      setInternalActive(initiallyActiveTab);\n    }\n  }, [initiallyActiveTab]);\n\n  useEffect(() => {\n    if (onTabChange && typeof onTabChange === \"function\") {\n      onTabChange(internalActive, tabs[internalActive]);\n    }\n  }, [internalActive]);\n\n  const wrapperClassNames = classNames({\n    \"ui-tabs\": true,\n    horizontal,\n  });\n\n  const switchActiveTabs = (index, tab) => {\n    if (!tab.disabled) {\n      setInternalActive(index);\n    }\n  };\n  const generateSpacing = (index) => {\n    if (index < tabs.length - 1) {\n      if (horizontal) {\n        return {\n          marginRight: spacing || 0,\n        };\n      } else {\n        return {\n          marginBottom: spacing || 0,\n        };\n      }\n    } else {\n      return {};\n    }\n  };\n  const mappedTabs = tabs.map(({ text, is, ...tab }, index) => {\n    const spacing = generateSpacing(index);\n    return (\n      <Box\n        display={\"inline-block\"}\n        cursor={\"pointer\"}\n        {...spacing}\n        {...tab}\n        key={keyGen()}\n        className={classNames(\n          {\n            \"ui-tab\": true,\n            active: internalActive === index,\n            disabled: typeof tab === \"object\" && tab.disabled,\n          },\n          className\n        )}\n        onClick={() => switchActiveTabs(index, tab)}\n      >\n        <Text is={\"span\"} scale={\"subhead\"}>\n          {text}\n        </Text>\n      </Box>\n    );\n  });\n\n  return <div className={wrapperClassNames}>{mappedTabs}</div>;\n};\n\nexport default Tab;\n\nTab.propTypes = {\n  tabs: PropTypes.array,\n  horizontal: PropTypes.bool,\n  spacing: PropTypes.string,\n  initiallyActiveTab: PropTypes.number,\n  onTabChange: PropTypes.func,\n};\n\nTab.defaultProps = {\n  horizontal: true,\n  initiallyActiveTab: 0,\n  spacing: \"4px\",\n};\n"],"names":["Tab","is","text","tabs","className","initiallyActiveTab","horizontal","spacing","onTabChange","props","internalActive","setInternalActive","useState","useLayoutEffect","useEffect","wrapperClassNames","classNames","switchActiveTabs","index","tab","generateSpacing","mappedTabs","createElement","Box","keyGen","Text","jsx","Tab$1","PropTypes"],"mappings":"sdAQA,MAAAA,EAAA,CAAA,CACA,GAAAC,EACA,KAAAC,EACA,KAAAC,EACA,UAAAC,EACA,mBAAAC,EACA,WAAAC,EACA,QAAAC,EACA,YAAAC,EACA,GAAAC,CACA,IAAA,CACA,KAAA,CAAAC,EAAAC,CAAA,EAAAC,WAAA,CAAA,EAEAC,EAAAA,gBAAA,IAAA,CAEAR,IAAA,QACA,OAAAA,GAAA,UAEAM,EAAAN,CAAA,CACA,EACA,CAAAA,CAAA,CAAA,EAEAS,EAAAA,UAAA,IAAA,CACAN,GAAA,OAAAA,GAAA,YACAA,EAAAE,EAAAP,EAAAO,CAAA,CAAA,CACA,EACA,CAAAA,CAAA,CAAA,EAEA,MAAAK,EAAAC,EAAA,CACA,UAAA,GACA,WAAAV,CAAA,CACA,EAEAW,EAAA,CAAAC,EAAAC,IAAA,CACAA,EAAA,UACAR,EAAAO,CAAA,CACA,EAEAE,EAAAF,GACAA,EAAAf,EAAA,OAAA,EACAG,EACA,CACA,YAAAC,GAAA,CAAA,EAGA,CACA,aAAAA,GAAA,CAAA,EAIA,GAGAc,EAAAlB,EAAA,IAAA,CAAA,CAAA,KAAAD,EAAA,GAAAD,EAAA,GAAAkB,CAAA,EAAAD,IAAA,CACAX,MAAAA,EAAAa,EAAAF,CAAA,EAEA,OAAAI,EAAA,cAAAC,EAAA,CACA,QAAA,eACA,OAAA,UACA,GAAAhB,EACA,GAAAY,EACA,IAAAK,EAAA,EACA,UAAAR,EACA,CACA,SAAA,GACA,OAAAN,IAAAQ,EACA,SAAA,OAAAC,GAAA,UAAAA,EAAA,QACA,EACAf,CACA,EACA,QAAA,IAAAa,EAAAC,EAAAC,CAAA,CAAA,QAEAM,EAAA,CAAA,GAAA,OAAA,MAAA,UACA,SAAAvB,EACA,CAAA,CACA,CAEA,EAEA,OAAAwB,EAAAA,IAAA,MAAA,CAAA,UAAAX,EAAA,SAAAM,CAAA,CAAA,CACA,EAEAM,EAAA3B,EAEAA,EAAA,UAAA,CACA,KAAA4B,EAAA,MACA,WAAAA,EAAA,KACA,QAAAA,EAAA,OACA,mBAAAA,EAAA,OACA,YAAAA,EAAA,IACA,EAEA5B,EAAA,aAAA,CACA,WAAA,GACA,mBAAA,EACA,QAAA,KACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}