{"version":3,"file":"Toast.stories-57ea3706.js","sources":["../../src/components/providers/ToastProvider.jsx","../../src/utils/hooks/usePushToast.js"],"sourcesContent":["import React, { createContext, useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport Box from \"../box\";\nimport classNames from \"../../utils/classNames\";\nimport Alert from \"../alert\";\nimport \"./ToastProvider.css\";\n\nexport const ToastContext = createContext({});\nconst body = document.getElementsByTagName(\"body\")[0];\n\nconst DomPortal = ({ children, ...props }) =>\n  ReactDOM.createPortal(children, body);\n\nconst ToastProvider = ({ children, position, ...props }) => {\n  const [toasts, setToasts] = useState([]);\n\n  const removeToast = (removedToast) => {\n    setToasts((toasts) =>\n      toasts.filter((toast) => toast.uuuuid !== removedToast.uuuuid)\n    );\n  };\n  const renderedToasts = toasts.map((toast, index) => (\n    <Alert\n      key={`toast-_${index}`}\n      {...toast}\n      closable\n      onClose={() => removeToast(toast)}\n    />\n  ));\n  const initialValue = {\n    toasts,\n    setToasts,\n  };\n  return (\n    <ToastContext.Provider value={initialValue}>\n      {children}\n      <DomPortal>\n        {toasts.length ? (\n          <Box\n            className={classNames([\n              \"ui-toast__wrapper\",\n              `position__${position}`,\n            ])}\n          >\n            <Box className={\"ui-toast__column\"}>{renderedToasts}</Box>\n          </Box>\n        ) : (\n          \"\"\n        )}\n      </DomPortal>\n    </ToastContext.Provider>\n  );\n};\n\nexport default ToastProvider;\n\nToastProvider.propTypes = {\n  position: PropTypes.oneOf([\n    \"top-right\",\n    \"top-left\",\n    \"bottom-left\",\n    \"bottom-right\",\n  ]),\n};\n\nToastProvider.defaultProps = {\n  position: \"top-right\",\n};\n","import { useContext } from \"react\";\nimport { ToastContext } from \"../../components/providers/ToastProvider.jsx\";\nimport uniqueRandomString from \"../uniqueRandomString\";\n\nexport const usePushToast = () => {\n  const { setToasts } = useContext(ToastContext);\n\n  const pushToast = (toast) => {\n    const newToastID = uniqueRandomString(30, 8);\n\n    const currentToast = {\n      ...toast,\n      uuuuid: newToastID,\n      autoclose: toast.autoclose ? toast.autoclose : 3,\n    };\n    setToasts((toasts) => [...toasts, currentToast]);\n    setTimeout(() => {\n      setToasts((toasts) =>\n        toasts.filter((toast) => toast.uuuuid !== newToastID)\n      );\n    }, currentToast.autoclose * 1000);\n  };\n  return { pushToast };\n};\n"],"names":["ToastContext","createContext","body","DomPortal","children","props","ReactDOM","ToastProvider","position","toasts","setToasts","useState","removeToast","removedToast","toast","renderedToasts","index","jsx","Alert","initialValue","jsxs","Box","classNames","ToastProvider$1","PropTypes","usePushToast","useContext","newToastID","uniqueRandomString","currentToast"],"mappings":"omBAQA,MAAAA,EAAAC,EAAAA,cAAA,CAAA,CAAA,EACAC,EAAA,SAAA,qBAAA,MAAA,EAAA,CAAA,EAEAC,EAAA,CAAA,CAAA,SAAAC,EAAA,GAAAC,KACAC,EAAA,aAAAF,EAAAF,CAAA,EAEAK,EAAA,CAAA,CAAA,SAAAH,EAAA,SAAAI,EAAA,GAAAH,KAAA,CACA,KAAA,CAAAI,EAAAC,CAAA,EAAAC,EAAA,SAAA,CAAA,CAAA,EAEAC,EAAAC,GAAA,CACAH,EAAAD,GACAA,EAAA,OAAAK,GAAAA,EAAA,SAAAD,EAAA,MAAA,CAAA,CACA,EAEAE,EAAAN,EAAA,IAAA,CAAAK,EAAAE,IACAC,EAAA,IAAAC,EAAA,CAEA,GAAAJ,EACA,SAAA,GACA,QAAA,IAAAF,EAAAE,CAAA,CAAA,EAHA,UAAAE,GAAA,CAKA,EACAG,EAAA,CACA,OAAAV,EACA,UAAAC,CAAA,EAEA,OACAU,EAAAA,KAAApB,EAAA,SAAA,CAAA,MAAAmB,EACA,SAAA,CAAAf,EACAa,EAAAA,IAAAd,EACA,CAAA,SAAAM,EAAA,OACAQ,EAAA,IAAAI,EAAA,CACA,UAAAC,EAAA,CACA,oBACA,aAAAd,GAAA,CACA,EAEA,SAAAS,EAAA,IAAAI,EAAA,CAAA,UAAA,mBAAA,SAAAN,EAAA,CAAA,GAGA,EAEA,CAAA,CACA,CAAA,CAAA,CAEA,EAEAQ,EAAAhB,EAEAA,EAAA,UAAA,CACA,SAAAiB,EAAA,MAAA,CACA,YACA,WACA,cACA,cAAA,CACA,CACA,EAEAjB,EAAA,aAAA,CACA,SAAA,WACA,6UChEO,MAAMkB,EAAe,IAAM,CAChC,KAAM,CAAE,UAAAf,CAAS,EAAKgB,EAAU,WAAC1B,CAAY,EAiB7C,MAAO,CAAE,UAfUc,GAAU,CAC3B,MAAMa,EAAaC,EAAmB,GAAI,CAAC,EAErCC,EAAe,CACnB,GAAGf,EACH,OAAQa,EACR,UAAWb,EAAM,UAAYA,EAAM,UAAY,CACrD,EACIJ,EAAWD,GAAW,CAAC,GAAGA,EAAQoB,CAAY,CAAC,EAC/C,WAAW,IAAM,CACfnB,EAAWD,GACTA,EAAO,OAAQK,GAAUA,EAAM,SAAWa,CAAU,CAC5D,CACA,EAAOE,EAAa,UAAY,GAAI,CACpC,CACoB,CACpB;;;;;;;;;;;;;;;;"}