{"version":3,"file":"Toast.stories-c928bb33.js","sources":["../../src/components/providers/ToastProvider.jsx","../../src/utils/hooks/usePushToast.js"],"sourcesContent":["import React, { createContext, useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport Box from \"../box\";\nimport classNames from \"../../utils/classNames\";\nimport Alert from \"../alert\";\nimport \"./ToastProvider.css\";\n\nexport const ToastContext = createContext({});\nconst body = document.getElementsByTagName(\"body\")[0];\n\nconst DomPortal = ({ children, ...props }) =>\n  ReactDOM.createPortal(children, body);\n\nconst ToastProvider = ({ children, position, ...props }) => {\n  const [toasts, setToasts] = useState([]);\n\n  const removeToast = (removedToast) => {\n    setToasts((toasts) =>\n      toasts.filter((toast) => toast.uuuuid !== removedToast.uuuuid)\n    );\n  };\n  const renderedToasts = toasts.map((toast, index) => (\n    <Alert\n      key={`toast-_${index}`}\n      {...toast}\n      closable\n      onClose={() => removeToast(toast)}\n    />\n  ));\n  const initialValue = {\n    toasts,\n    setToasts,\n  };\n  return (\n    <ToastContext.Provider value={initialValue}>\n      {children}\n      <DomPortal>\n        {toasts.length ? (\n          <Box\n            className={classNames([\n              \"ui-toast__wrapper\",\n              `position__${position}`,\n            ])}\n          >\n            <Box className={\"ui-toast__column\"}>{renderedToasts}</Box>\n          </Box>\n        ) : (\n          \"\"\n        )}\n      </DomPortal>\n    </ToastContext.Provider>\n  );\n};\n\nexport default ToastProvider;\n\nToastProvider.propTypes = {\n  position: PropTypes.oneOf([\n    \"top-right\",\n    \"top-left\",\n    \"bottom-left\",\n    \"bottom-right\",\n  ]),\n};\n\nToastProvider.defaultProps = {\n  position: \"top-right\",\n};\n","import { useContext } from \"react\";\nimport { ToastContext } from \"../../components/providers/ToastProvider.jsx\";\nimport uniqueRandomString from \"../uniqueRandomString\";\n\nexport const usePushToast = () => {\n  const { setToasts } = useContext(ToastContext);\n\n  const pushToast = (toast) => {\n    const newToastID = uniqueRandomString(30, 8);\n\n    const currentToast = {\n      ...toast,\n      uuuuid: newToastID,\n      autoclose: toast.autoclose ? toast.autoclose : 3,\n    };\n    setToasts((toasts) => [...toasts, currentToast]);\n    setTimeout(() => {\n      setToasts((toasts) =>\n        toasts.filter((toast) => toast.uuuuid !== newToastID)\n      );\n    }, currentToast.autoclose * 1000);\n  };\n  return { pushToast };\n};\n"],"names":["ToastContext","createContext","body","DomPortal","children","props","ReactDOM","ToastProvider","position","toasts","setToasts","useState","removeToast","removedToast","toast","renderedToasts","index","jsx","Alert","initialValue","jsxs","Box","classNames","ToastProvider$1","PropTypes","usePushToast","useContext","newToastID","uniqueRandomString","currentToast"],"mappings":"+lBAQa,MAAAA,EAAeC,EAAAA,cAAc,CAAA,CAAE,EACtCC,EAAO,SAAS,qBAAqB,MAAM,EAAE,CAAC,EAE9CC,EAAY,CAAC,CAAE,SAAAC,EAAU,GAAGC,KAChCC,EAAS,aAAaF,EAAUF,CAAI,EAEhCK,EAAgB,CAAC,CAAE,SAAAH,EAAU,SAAAI,EAAU,GAAGH,KAAY,CAC1D,KAAM,CAACI,EAAQC,CAAS,EAAIC,EAAA,SAAS,CAAE,CAAA,EAEjCC,EAAeC,GAAiB,CACpCH,EAAWD,GACTA,EAAO,OAAQK,GAAUA,EAAM,SAAWD,EAAa,MAAM,CAAA,CAC/D,EAEIE,EAAiBN,EAAO,IAAI,CAACK,EAAOE,IACxCC,EAAA,IAACC,EAAA,CAEE,GAAGJ,EACJ,SAAQ,GACR,QAAS,IAAMF,EAAYE,CAAK,CAAA,EAH3B,UAAUE,GAAA,CAKlB,EACKG,EAAe,CACnB,OAAAV,EACA,UAAAC,CAAA,EAEF,OACGU,EAAAA,KAAApB,EAAa,SAAb,CAAsB,MAAOmB,EAC3B,SAAA,CAAAf,EACDa,EAAAA,IAACd,EACE,CAAA,SAAAM,EAAO,OACNQ,EAAA,IAACI,EAAA,CACC,UAAWC,EAAW,CACpB,oBACA,aAAad,GAAA,CACd,EAED,SAACS,EAAA,IAAAI,EAAA,CAAI,UAAW,mBAAqB,SAAeN,EAAA,CAAA,GAGtD,EAEJ,CAAA,CACF,CAAA,CAAA,CAEJ,EAEAQ,EAAehB,EAEfA,EAAc,UAAY,CACxB,SAAUiB,EAAU,MAAM,CACxB,YACA,WACA,cACA,cAAA,CACD,CACH,EAEAjB,EAAc,aAAe,CAC3B,SAAU,WACZ,EChEO,MAAMkB,EAAe,IAAM,CAChC,KAAM,CAAE,UAAAf,CAAS,EAAKgB,EAAU,WAAC1B,CAAY,EAiB7C,MAAO,CAAE,UAfUc,GAAU,CAC3B,MAAMa,EAAaC,EAAmB,GAAI,CAAC,EAErCC,EAAe,CACnB,GAAGf,EACH,OAAQa,EACR,UAAWb,EAAM,UAAYA,EAAM,UAAY,CACrD,EACIJ,EAAWD,GAAW,CAAC,GAAGA,EAAQoB,CAAY,CAAC,EAC/C,WAAW,IAAM,CACfnB,EAAWD,GACTA,EAAO,OAAQK,GAAUA,EAAM,SAAWa,CAAU,CAC5D,CACA,EAAOE,EAAa,UAAY,GAAI,CACpC,CACoB,CACpB;;;;;;;;;;;;;;;;"}