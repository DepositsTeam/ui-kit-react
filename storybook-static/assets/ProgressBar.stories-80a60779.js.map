{"version":3,"file":"ProgressBar.stories-80a60779.js","sources":["../../src/components/progress-bar/ProgressBar.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Box from \"../box\";\nimport classNames from \"../../utils/classNames\";\nimport \"./ProgressBar.scss\";\nimport { DarkModeContext } from \"../providers/DarkModeProvider.jsx\";\nimport { ThemeContext } from \"../providers/ThemeProvider.jsx\";\n\nconst ProgressBar = ({\n  variant,\n  percentage,\n  totalSteps,\n  currentStep,\n  fillColor,\n  emptyColor,\n  darkFillColor,\n  darkEmptyColor,\n  height,\n  ...props\n}) => {\n  const [computedWidth, setComputedWidth] = useState(0);\n  const { darkMode } = useContext(DarkModeContext);\n  const { theme } = useContext(ThemeContext);\n\n  useEffect(() => {\n    if (percentage) {\n      setComputedWidth(percentage);\n    } else {\n      if (currentStep !== undefined && totalSteps !== undefined) {\n        setComputedWidth(Math.round((currentStep / totalSteps) * 100));\n      } else setComputedWidth(0);\n    }\n  }, [percentage, currentStep, totalSteps]);\n\n  const computedThemeStyles = darkMode\n    ? {\n        \"--fill-color\": darkFillColor || theme[\"--dark-primary-action-color\"],\n        \"--empty-color\": darkEmptyColor\n          ? emptyColor\n          : variant === \"variant-2\"\n          ? theme[\"--dark-primary-200\"]\n          : \"#384860\",\n        \"--height\": height,\n      }\n    : {\n        \"--fill-color\": fillColor || theme[\"--light-primary-action-color\"],\n        \"--empty-color\":\n          emptyColor || variant === \"variant-2\"\n            ? theme[\"--light-primary-200\"]\n            : \"#384860\",\n        \"--height\": props.height,\n      };\n\n  return (\n    <Box\n      className={classNames({ \"ui-progress-bar\": true, [variant]: variant })}\n      style={{ ...computedThemeStyles }}\n    >\n      <Box\n        className={classNames({\n          \"ui-progress-bar__active\": true,\n          [variant]: variant,\n        })}\n        style={{ \"--width\": `${computedWidth}%` }}\n      />\n    </Box>\n  );\n};\n\nexport default ProgressBar;\n\nProgressBar.propTypes = {\n  percentage: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  totalSteps: PropTypes.number,\n  currentStep: PropTypes.number,\n  fillColor: PropTypes.string,\n  emptyColor: PropTypes.string,\n  darkFillColor: PropTypes.string,\n  darkEmptyColor: PropTypes.string,\n  variant: PropTypes.oneOf([\"variant-1\", \"variant-2\"]),\n  height: PropTypes.string,\n};\n\nProgressBar.defaultProps = {\n  variant: \"variant-1\",\n  height: \"6px\",\n};\n"],"names":["ProgressBar","variant","percentage","totalSteps","currentStep","fillColor","emptyColor","darkFillColor","darkEmptyColor","height","props","computedWidth","setComputedWidth","useState","darkMode","useContext","DarkModeContext","theme","ThemeContext","useEffect","computedThemeStyles","jsx","Box","classNames","ProgressBar$1","PropTypes"],"mappings":"2RAQA,MAAAA,EAAA,CAAA,CACA,QAAAC,EACA,WAAAC,EACA,WAAAC,EACA,YAAAC,EACA,UAAAC,GACA,WAAAC,EACA,cAAAC,GACA,eAAAC,GACA,OAAAC,GACA,GAAAC,EACA,IAAA,CACA,KAAA,CAAAC,GAAAC,CAAA,EAAAC,WAAA,CAAA,EACA,CAAA,SAAAC,EAAA,EAAAC,EAAA,WAAAC,EAAA,EACA,CAAA,MAAAC,CAAA,EAAAF,EAAA,WAAAG,EAAA,EAEAC,EAAAA,UAAA,IAAA,CAEAP,EADAV,IAGAE,IAAA,QAAAD,IAAA,OACA,KAAA,MAAAC,EAAAD,EAAA,GAAA,EACA,EAJA,CAMA,EAAA,CAAAD,EAAAE,EAAAD,CAAA,CAAA,EAEA,MAAAiB,GAAAN,GACA,CACA,eAAAP,IAAAU,EAAA,6BAAA,EACA,gBAAAT,GACAF,EACAL,IAAA,YACAgB,EAAA,oBAAA,EACA,UACA,WAAAR,EAAA,EAEA,CACA,eAAAJ,IAAAY,EAAA,8BAAA,EACA,gBACAX,GAAAL,IAAA,YACAgB,EAAA,qBAAA,EACA,UACA,WAAAP,GAAA,MAAA,EAIA,OAAAW,EAAA,IAAAC,EAAA,CACA,UAAAC,EAAA,CAAA,kBAAA,GAAA,CAAAtB,CAAA,EAAAA,EAAA,EACA,MAAA,CAAA,GAAAmB,EAAA,EAEA,SAAAC,EAAA,IAAAC,EAAA,CACA,UAAAC,EAAA,CACA,0BAAA,GACA,CAAAtB,CAAA,EAAAA,CAAA,CACA,EACA,MAAA,CAAA,UAAA,GAAAU,KAAA,CAAA,CACA,CAAA,CAAA,CAGA,EAEAa,EAAAxB,EAEAA,EAAA,UAAA,CACA,WAAAyB,EAAA,UAAA,CAAAA,EAAA,OAAAA,EAAA,MAAA,CAAA,EACA,WAAAA,EAAA,OACA,YAAAA,EAAA,OACA,UAAAA,EAAA,OACA,WAAAA,EAAA,OACA,cAAAA,EAAA,OACA,eAAAA,EAAA,OACA,QAAAA,EAAA,MAAA,CAAA,YAAA,WAAA,CAAA,EACA,OAAAA,EAAA,MACA,EAEAzB,EAAA,aAAA,CACA,QAAA,YACA,OAAA,KACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}