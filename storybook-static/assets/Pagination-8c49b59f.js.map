{"version":3,"file":"Pagination-8c49b59f.js","sources":["../../src/utils/rangedArray.js","../../src/utils/hooks/pagination.hook.js","../../src/components/pagination/Pagination.jsx"],"sourcesContent":["const rangedArray = (min, max, inclusive = true) => {\n  if (!inclusive) {\n    min += 1;\n    max -= 1;\n  }\n  return Array.from({ length: max - min + 1 }, (v, i) => min + i);\n};\n\nexport default rangedArray;\n","// import React, { useMemo } from \"react\";\n\nimport { useState, useEffect } from \"react\";\nimport rangedArray from \"../rangedArray\";\n\nexport const dots = \"...\";\n\nexport const usePagination = ({\n  totalPages,\n  currentPage,\n  onPageChange,\n  currentPageSiblings,\n}) => {\n  const [renderedPages, setRenderedPages] = useState([]);\n  const [initializedCurrentPage, setInitializedCurrentPage] = useState(1);\n  const [disablePrev, setDisablePrev] = useState(false);\n  const [disableNext, setDisableNext] = useState(false);\n\n  const updatePage = (page) => {\n    if (page > totalPages || page < 1 || page === \"...\") {\n      return;\n    }\n    setInitializedCurrentPage(page);\n    if (onPageChange && typeof onPageChange === \"function\") {\n      onPageChange(page);\n    }\n  };\n  useEffect(() => {\n    setInitializedCurrentPage(currentPage);\n  }, []);\n  useEffect(() => {\n    setDisablePrev(initializedCurrentPage === 1);\n    setDisableNext(initializedCurrentPage === totalPages);\n\n    const doubleVisibleSiblings = currentPageSiblings * 2;\n    let middleMin = initializedCurrentPage - currentPageSiblings;\n    let middleMax = initializedCurrentPage + currentPageSiblings;\n\n    if (totalPages <= doubleVisibleSiblings + 2) {\n      setRenderedPages(rangedArray(1, totalPages));\n    } else {\n      if (initializedCurrentPage < doubleVisibleSiblings) {\n        setRenderedPages([\n          ...rangedArray(1, doubleVisibleSiblings),\n          dots,\n          totalPages,\n        ]);\n      } else {\n        if (initializedCurrentPage < totalPages - doubleVisibleSiblings) {\n          const rangedArrayHolder = rangedArray(middleMin, middleMax);\n          const sub = rangedArrayHolder.includes(1)\n            ? [...rangedArrayHolder, dots]\n            : [1, dots, ...rangedArrayHolder, dots];\n          setRenderedPages([...sub, totalPages]);\n        } else {\n          setRenderedPages([\n            1,\n            dots,\n            ...rangedArray(totalPages - doubleVisibleSiblings, totalPages),\n          ]);\n        }\n      }\n    }\n  }, [initializedCurrentPage, totalPages]);\n\n  return {\n    renderedPages,\n    disableNext,\n    disablePrev,\n    initializedCurrentPage,\n    updatePage,\n  };\n};\n","import React from \"react\";\nimport classNames from \"../../utils/classNames\";\nimport PropTypes from \"prop-types\";\nimport Text from \"../text\";\nimport Box from \"../box\";\nimport \"./Pagination.scss\";\nimport Icon from \"../icon\";\nimport ChevronArrowRight from \"../icons/ChevronArrowRight.jsx\";\nimport ChevronArrowLeft from \"../icons/ChevronArrowLeft.jsx\";\nimport { usePagination } from \"../../utils/hooks/pagination.hook\";\nimport {getTextColor} from \"../../utils/colorManager\";\n\nconst Pagination = ({\n  currentPage,\n  totalPages,\n  currentPageSiblings,\n  onPageChange,\n  className,\n  smartColor,\n  ...props\n}) => {\n  const {\n    renderedPages,\n    disableNext,\n    disablePrev,\n    initializedCurrentPage,\n    updatePage,\n  } = usePagination({\n    totalPages,\n    currentPage,\n    currentPageSiblings,\n    onPageChange,\n  });\n\n  const generatedPageNumberClassName = (pageNumber, index = 0) =>\n    classNames(\n      {\n        \"ui-pagination__page-number__active\":\n          pageNumber === initializedCurrentPage,\n      },\n      \"ui-pagination__page-number\"\n    );\n\n  const leftControlClasses = classNames(\n    { disabled: disablePrev },\n    \"ui-pagination__control\"\n  );\n\n  const rightControlClasses = classNames(\n    { disabled: disableNext },\n    \"ui-pagination__control\"\n  );\n  const generatedPageNumbers = renderedPages?.map((pageNumber, index) => (\n    <Box\n      className={generatedPageNumberClassName(pageNumber, index)}\n      key={index}\n      onClick={() => updatePage(pageNumber)}\n    >\n      <Text scale={\"subhead\"} fontFace={\"circularSTD\"}>\n        {pageNumber}\n      </Text>\n    </Box>\n  ));\n\n  return (\n    <Box\n      is=\"div\"\n      {...props}\n      className={classNames({\n        \"ui-pagination\": true,\n        [className]: className,\n        smartColor,\n      })}\n      style={{\n        \"--smart-color\": smartColor,\n        \"--smart-text-color\": getTextColor(smartColor),\n      }}\n    >\n      <Box\n        className={leftControlClasses}\n        onClick={() => updatePage(initializedCurrentPage - 1)}\n      >\n        <Icon className=\"ui-pagination__left-arrow\" icon={ChevronArrowLeft} />\n        <Text\n          className=\"ui-pagination__text-previous ui-pagination__text\"\n          scale={\"subhead\"}\n          fontFace={\"circularSTD\"}\n        >\n          Previous\n        </Text>\n      </Box>\n\n      {generatedPageNumbers}\n\n      <Box\n        className={rightControlClasses}\n        onClick={() => updatePage(initializedCurrentPage + 1)}\n      >\n        <Text\n          className=\"ui-pagination__text-next ui-pagination__text\"\n          scale={\"subhead\"}\n          fontFace={\"circularSTD\"}\n        >\n          Next\n        </Text>\n        <Icon className=\"ui-pagination__right-arrow\" icon={ChevronArrowRight} />\n      </Box>\n    </Box>\n  );\n};\n\nexport default Pagination;\n\nPagination.propTypes = {\n  currentPage: PropTypes.number,\n  totalPages: PropTypes.number,\n  currentPageSiblings: PropTypes.number,\n  onPageChange: PropTypes.func,\n  smartColor: PropTypes.string,\n};\n\nPagination.defaultProps = {\n  currentPage: 1,\n  totalPages: 30,\n  currentPageSiblings: 3,\n};\n"],"names":["rangedArray","min","max","inclusive","v","i","dots","usePagination","totalPages","currentPage","onPageChange","currentPageSiblings","renderedPages","setRenderedPages","useState","initializedCurrentPage","setInitializedCurrentPage","disablePrev","setDisablePrev","disableNext","setDisableNext","updatePage","page","useEffect","doubleVisibleSiblings","middleMin","middleMax","rangedArrayHolder","sub","Pagination","className","smartColor","props","generatedPageNumberClassName","pageNumber","index","classNames","leftControlClasses","rightControlClasses","generatedPageNumbers","jsx","Box","Text","jsxs","getTextColor","Icon","ChevronArrowLeft","ChevronArrowRight","Pagination$1","PropTypes"],"mappings":"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"}