{"version":3,"file":"Tab.stories-2460a628.js","sources":["../../src/components/tab/Tab.jsx"],"sourcesContent":["import React, { useState, useLayoutEffect, useEffect } from \"react\";\nimport \"./Tab.scss\";\nimport PropTypes from \"prop-types\";\nimport Box from \"../box\";\nimport keyGen from \"../../utils/keyGen\";\nimport Text from \"../text\";\nimport classNames from \"../../utils/classNames\";\n\nconst Tab = ({\n  is,\n  text,\n  tabs,\n  className,\n  initiallyActiveTab,\n  horizontal,\n  spacing,\n  onTabChange,\n  ...props\n}) => {\n  const [internalActive, setInternalActive] = useState(0);\n\n  useLayoutEffect(() => {\n    if (\n      initiallyActiveTab !== undefined &&\n      typeof initiallyActiveTab === \"number\"\n    ) {\n      setInternalActive(initiallyActiveTab);\n    }\n  }, [initiallyActiveTab]);\n\n  useEffect(() => {\n    if (onTabChange && typeof onTabChange === \"function\") {\n      onTabChange(internalActive, tabs[internalActive]);\n    }\n  }, [internalActive]);\n\n  const wrapperClassNames = classNames({\n    \"ui-tabs\": true,\n    horizontal,\n  });\n\n  const switchActiveTabs = (index, tab) => {\n    if (!tab.disabled) {\n      setInternalActive(index);\n    }\n  };\n  const generateSpacing = (index) => {\n    if (index < tabs.length - 1) {\n      if (horizontal) {\n        return {\n          marginRight: spacing || 0,\n        };\n      } else {\n        return {\n          marginBottom: spacing || 0,\n        };\n      }\n    } else {\n      return {};\n    }\n  };\n  const mappedTabs = tabs.map(({ text, is, ...tab }, index) => {\n    const spacing = generateSpacing(index);\n    return (\n      <Box\n        display={\"inline-block\"}\n        cursor={\"pointer\"}\n        {...spacing}\n        {...tab}\n        key={keyGen()}\n        className={classNames(\n          {\n            \"ui-tab\": true,\n            active: internalActive === index,\n            disabled: typeof tab === \"object\" && tab.disabled,\n          },\n          className\n        )}\n        onClick={() => switchActiveTabs(index, tab)}\n      >\n        <Text is={\"span\"} scale={\"subhead\"}>\n          {text}\n        </Text>\n      </Box>\n    );\n  });\n\n  return <div className={wrapperClassNames}>{mappedTabs}</div>;\n};\n\nexport default Tab;\n\nTab.propTypes = {\n  tabs: PropTypes.array,\n  horizontal: PropTypes.bool,\n  spacing: PropTypes.string,\n  initiallyActiveTab: PropTypes.number,\n  onTabChange: PropTypes.func,\n};\n\nTab.defaultProps = {\n  horizontal: true,\n  initiallyActiveTab: 0,\n  spacing: \"4px\",\n};\n"],"names":["Tab","is","text","tabs","className","initiallyActiveTab","horizontal","spacing","onTabChange","props","internalActive","setInternalActive","useState","useLayoutEffect","useEffect","wrapperClassNames","classNames","switchActiveTabs","index","tab","generateSpacing","mappedTabs","createElement","Box","keyGen","Text","jsx","Tab$1","PropTypes"],"mappings":"sdAQA,MAAMA,EAAM,CAAC,CACX,GAAAC,EACA,KAAAC,EACA,KAAAC,EACA,UAAAC,EACA,mBAAAC,EACA,WAAAC,EACA,QAAAC,EACA,YAAAC,EACA,GAAGC,CACL,IAAM,CACJ,KAAM,CAACC,EAAgBC,CAAiB,EAAIC,WAAS,CAAC,EAEtDC,EAAAA,gBAAgB,IAAM,CAElBR,IAAuB,QACvB,OAAOA,GAAuB,UAE9BM,EAAkBN,CAAkB,CACtC,EACC,CAACA,CAAkB,CAAC,EAEvBS,EAAAA,UAAU,IAAM,CACVN,GAAe,OAAOA,GAAgB,YAC5BA,EAAAE,EAAgBP,EAAKO,CAAc,CAAC,CAClD,EACC,CAACA,CAAc,CAAC,EAEnB,MAAMK,EAAoBC,EAAW,CACnC,UAAW,GACX,WAAAV,CAAA,CACD,EAEKW,EAAmB,CAACC,EAAOC,IAAQ,CAClCA,EAAI,UACPR,EAAkBO,CAAK,CACzB,EAEIE,EAAmBF,GACnBA,EAAQf,EAAK,OAAS,EACpBG,EACK,CACL,YAAaC,GAAW,CAAA,EAGnB,CACL,aAAcA,GAAW,CAAA,EAItB,GAGLc,EAAalB,EAAK,IAAI,CAAC,CAAE,KAAAD,EAAM,GAAAD,EAAI,GAAGkB,CAAI,EAAGD,IAAU,CACrDX,MAAAA,EAAUa,EAAgBF,CAAK,EAEnC,OAAAI,EAAA,cAACC,EAAA,CACC,QAAS,eACT,OAAQ,UACP,GAAGhB,EACH,GAAGY,EACJ,IAAKK,EAAO,EACZ,UAAWR,EACT,CACE,SAAU,GACV,OAAQN,IAAmBQ,EAC3B,SAAU,OAAOC,GAAQ,UAAYA,EAAI,QAC3C,EACAf,CACF,EACA,QAAS,IAAMa,EAAiBC,EAAOC,CAAG,CAAA,QAEzCM,EAAK,CAAA,GAAI,OAAQ,MAAO,UACtB,SAAAvB,EACH,CAAA,CACF,CAEH,EAED,OAAQwB,EAAAA,IAAA,MAAA,CAAI,UAAWX,EAAoB,SAAWM,CAAA,CAAA,CACxD,EAEAM,EAAe3B,EAEfA,EAAI,UAAY,CACd,KAAM4B,EAAU,MAChB,WAAYA,EAAU,KACtB,QAASA,EAAU,OACnB,mBAAoBA,EAAU,OAC9B,YAAaA,EAAU,IACzB,EAEA5B,EAAI,aAAe,CACjB,WAAY,GACZ,mBAAoB,EACpB,QAAS,KACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}