import{j as l}from"./jsx-runtime-94f6e698.js";import{r}from"./index-8db94870.js";import{P as m}from"./index-58d3fd43.js";import{B as y,c as O}from"./Box-30be3602.js";import{T as _}from"./TextField-c770e0c2.js";import{d as B,i as F}from"./inputPropTypes-f7353463.js";import{T as N}from"./Text-abe69b1c.js";const g=r.forwardRef(({label:M,onChange:w,onBlur:P,name:V,options:q,initialValue:h,returnObjModel:E,...k},L)=>{const[a,i]=r.useState(""),[p,n]=r.useState(!1),[u,x]=r.useState([]),[o,d]=r.useState(-1),[t,c]=r.useState(null),[f,v]=r.useState(!0),S=e=>typeof e=="object"?e.text:e;r.useLayoutEffect(()=>{h&&i(h)},[]),r.useEffect(()=>{f||n(!0),t?a!==S(t)&&c(null):x(a?[...q].filter(e=>typeof e=="string"?e.toLowerCase().includes(a.toLowerCase()):e.text.toLowerCase().includes(a.toLowerCase())):[...q])},[q,a,t,f]),r.useEffect(()=>{w&&typeof w=="function"&&w(E?t:t==null?void 0:t.value)},[t]),r.useEffect(()=>{if(f&&!t){let e=!1;for(let s of u)if(typeof s=="string"){if(s.toLowerCase()===a.toLowerCase()){e=!0,i(s),c(s);break}}else if(s.text.toLowerCase()===a.toLowerCase()){e=!0,i(s.text),c(s);break}e||(i(""),c(null))}},[f]);const T=()=>{v(!1),n(!0)},b=async()=>{v(!0),setTimeout(()=>{n(!1)},300)},C=async e=>{e&&(i(typeof e=="string"?e:e.text),c(e),setTimeout(()=>{n(!1)},300))},j=e=>{e.target.closest(".ui-dropdown")||b()},D=async e=>{switch(e.key){case"ArrowDown":p||n(!0),o+1<=u.length-1?d(o+1):d(0);break;case"ArrowUp":p||n(!0),o-1>=0?d(o-1):d(u.length-1);break;case"Enter":C(u[o]);break;case"Escape":b(),e.target.blur();break}};r.useEffect(()=>(window.addEventListener("click",j),()=>{window.removeEventListener("click",j)}),[]);const I=u.map((e,s)=>l.jsxs(y,{className:O({"ui-dropdown__option":!0,active:o===s}),onMouseEnter:()=>d(s),onClick:()=>C(e),children:[typeof e=="object"&&e.icon&&l.jsx(y,{className:"ui-dropdown__icon",children:e.icon}),l.jsx(N,{marginY:0,scale:"subhead",fontFace:"circularSTD",children:typeof e=="string"?e:e.text})]},`option-${s}`));return l.jsxs(y,{className:"ui-dropdown",children:[l.jsx(_,{dropDown:!0,...k,value:a,onKeyDown:D,onFocus:T,onBlur:b,onChange:e=>i(e.target.value),onRightIconClick:()=>n(!p),leftIconComponent:t==null?void 0:t.icon,ref:L}),p&&l.jsx(y,{className:"ui-dropdown__options",children:I})]})}),G=g;g.defaultProps={...B};g.propTypes={...F,options:m.array,returnObjModel:m.bool,onChange:m.func,initialValue:m.string};g.__docgenInfo={description:"",methods:[],displayName:"Dropdown",props:{size:{defaultValue:{value:'"huge"',computed:!1},type:{name:"enum",value:[{value:'"small"',computed:!1},{value:'"medium"',computed:!1},{value:'"large"',computed:!1},{value:'"xlarge"',computed:!1},{value:'"huge"',computed:!1},{value:'"massive"',computed:!1}]},required:!1,description:""},label:{type:{name:"string"},required:!1,description:""},fontFace:{type:{name:"string"},required:!1,description:""},errorMessage:{type:{name:"string"},required:!1,description:""},showError:{type:{name:"bool"},required:!1,description:""},modelValue:{type:{name:"string"},required:!1,description:""},onlyNumbers:{type:{name:"bool"},required:!1,description:""},wrapperClass:{type:{name:"string"},required:!1,description:""},invisible:{type:{name:"bool"},required:!1,description:""},labelClass:{type:{name:"enum",value:[{value:"String",computed:!0},{value:"Object",computed:!0},{value:"Array",computed:!0}]},required:!1,description:""},leftIcon:{type:{name:"object"},required:!1,description:""},rightIcon:{type:{name:"object"},required:!1,description:""},disabled:{type:{name:"bool"},required:!1,description:""},labelFontFace:{type:{name:"string"},required:!1,description:""},autocomplete:{type:{name:"string"},required:!1,description:""},form:{type:{name:"string"},required:!1,description:""},list:{type:{name:"string"},required:!1,description:""},minlength:{type:{name:"string"},required:!1,description:""},max:{type:{name:"string"},required:!1,description:""},min:{type:{name:"string"},required:!1,description:""},multiple:{type:{name:"string"},required:!1,description:""},name:{type:{name:"string"},required:!1,description:""},pattern:{type:{name:"string"},required:!1,description:""},placeholder:{type:{name:"string"},required:!1,description:""},required:{type:{name:"bool"},required:!1,description:""},step:{type:{name:"string"},required:!1,description:""},autofocus:{type:{name:"string"},required:!1,description:""},options:{type:{name:"array"},required:!1,description:""},returnObjModel:{type:{name:"bool"},required:!1,description:""},onChange:{type:{name:"func"},required:!1,description:""},initialValue:{type:{name:"string"},required:!1,description:""}}};export{G as D};
//# sourceMappingURL=Dropdown-9a57674d.js.map
