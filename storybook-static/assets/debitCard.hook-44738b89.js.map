{"version":3,"file":"debitCard.hook-44738b89.js","sources":["../../src/utils/debitCardUtils.js","../../src/utils/hooks/debitCard.hook.js"],"sourcesContent":["export const BRAND_ALIAS = {\n  AMEX: 0,\n  DISCOVER: 1,\n  MASTERCARD: 2,\n  VISACARD: 3,\n  NOCARD: -1,\n};\n\nexport const formatCardNo = (e) => {\n  const value = e.replace(/\\s/g, \"\");\n  const parse = (type) => {\n    let pseudoValue = \"\";\n    for (let i = 0; i < value.length; i++) {\n      pseudoValue += value.charAt(i);\n      let strippedPseudoValue = pseudoValue.replace(/\\s/g, \"\");\n      if (type === BRAND_ALIAS.AMEX) {\n        if (strippedPseudoValue.length === 4) {\n          pseudoValue += \" \";\n        }\n        if (strippedPseudoValue.length === 10) {\n          pseudoValue += \" \";\n        }\n      } else {\n        if (strippedPseudoValue.length % 4 === 0) {\n          pseudoValue += \" \";\n        }\n      }\n    }\n    return pseudoValue.trim();\n  };\n  switch (value.charAt(0)) {\n    case \"5\":\n      return parse(BRAND_ALIAS.MASTERCARD);\n    case \"3\":\n      if (value.length >= 2) {\n        if (value.charAt(1) == \"4\" || value.charAt(1) == \"7\") {\n          return parse(BRAND_ALIAS.AMEX);\n        } else {\n          return parse(BRAND_ALIAS.NOCARD);\n        }\n      } else {\n        return parse(BRAND_ALIAS.AMEX);\n      }\n    case \"6\":\n      return parse(BRAND_ALIAS.DISCOVER);\n    case \"4\":\n      return parse(BRAND_ALIAS.VISACARD);\n    default:\n      return parse(BRAND_ALIAS.NOCARD);\n  }\n};\n\nexport const asteriskCardNo = (cardNo) => {\n  const middle = cardNo.slice(4, -4).replace(/./g, \"*\");\n  const first = cardNo.substring(0, 4);\n  const last = cardNo.substring(cardNo.length - 4);\n  return first + middle + last;\n};\n\nexport const asteriskCvv = (cvv) => cvv.replace(/./g, \"*\");\n\nexport const asteriskExp = (exp) =>\n  exp\n    .split(\"/\")\n    .map((item) => item.replace(/./g, \"*\"))\n    .join(\"/\");\n\nexport const CardBrands = [\n  \"mastercard\",\n  \"visa\",\n  \"amex\",\n  \"discover\",\n  \"verve\",\n  \"jcb\",\n];\n","import { useState, useEffect } from \"react\";\nimport {\n  asteriskCardNo,\n  asteriskCvv,\n  asteriskExp,\n  formatCardNo,\n} from \"../debitCardUtils\";\n\nexport const useDebitCard = (props) => {\n  const [hidden, setHidden] = useState(true);\n\n  useEffect(() => {\n    if (!props.enableHiding) {\n      setHidden(false);\n    }\n  }, [props.enableHiding]);\n\n  const computedCardNo = hidden\n    ? formatCardNo(asteriskCardNo(props.cardNo))\n    : formatCardNo(props.cardNo);\n\n  const computedExp = hidden ? asteriskExp(props.exp) : props.exp;\n\n  const computedCVV = hidden ? asteriskCvv(props.cvv) : props.cvv;\n\n  const cardBrand = `https://assets.ondeposits.com/img/debit-card-brands/svg/${props.brand}_light.svg`;\n\n  const toggleHidden = () => {\n    if (props.enableHiding) {\n      setHidden(!hidden);\n    }\n  };\n\n  return { computedCardNo, computedExp, computedCVV, toggleHidden, cardBrand };\n};\n"],"names":["BRAND_ALIAS","formatCardNo","value","parse","type","pseudoValue","i","strippedPseudoValue","asteriskCardNo","cardNo","middle","first","last","asteriskCvv","cvv","asteriskExp","exp","item","CardBrands","useDebitCard","props","hidden","setHidden","useState","useEffect","computedCardNo","computedExp","computedCVV","cardBrand"],"mappings":"wCAAO,MAAMA,EAAc,CACzB,KAAM,EACN,SAAU,EACV,WAAY,EACZ,SAAU,EACV,OAAQ,EACV,EAEaC,EAAgB,GAAM,CACjC,MAAMC,EAAQ,EAAE,QAAQ,MAAO,EAAE,EAC3BC,EAASC,GAAS,CACtB,IAAIC,EAAc,GAClB,QAASC,EAAI,EAAGA,EAAIJ,EAAM,OAAQI,IAAK,CACrCD,GAAeH,EAAM,OAAOI,CAAC,EAC7B,IAAIC,EAAsBF,EAAY,QAAQ,MAAO,EAAE,EACnDD,IAASJ,EAAY,MACnBO,EAAoB,SAAW,IACjCF,GAAe,KAEbE,EAAoB,SAAW,KACjCF,GAAe,MAGbE,EAAoB,OAAS,IAAM,IACrCF,GAAe,KAIrB,OAAOA,EAAY,MACvB,EACE,OAAQH,EAAM,OAAO,CAAC,EAAC,CACrB,IAAK,IACH,OAAOC,EAAMH,EAAY,UAAU,EACrC,IAAK,IACH,OAAIE,EAAM,QAAU,EACdA,EAAM,OAAO,CAAC,GAAK,KAAOA,EAAM,OAAO,CAAC,GAAK,IACxCC,EAAMH,EAAY,IAAI,EAEtBG,EAAMH,EAAY,MAAM,EAG1BG,EAAMH,EAAY,IAAI,EAEjC,IAAK,IACH,OAAOG,EAAMH,EAAY,QAAQ,EACnC,IAAK,IACH,OAAOG,EAAMH,EAAY,QAAQ,EACnC,QACE,OAAOG,EAAMH,EAAY,MAAM,CAClC,CACH,EAEaQ,EAAkBC,GAAW,CACxC,MAAMC,EAASD,EAAO,MAAM,EAAG,EAAE,EAAE,QAAQ,KAAM,GAAG,EAC9CE,EAAQF,EAAO,UAAU,EAAG,CAAC,EAC7BG,EAAOH,EAAO,UAAUA,EAAO,OAAS,CAAC,EAC/C,OAAOE,EAAQD,EAASE,CAC1B,EAEaC,EAAeC,GAAQA,EAAI,QAAQ,KAAM,GAAG,EAE5CC,EAAeC,GAC1BA,EACG,MAAM,GAAG,EACT,IAAKC,GAASA,EAAK,QAAQ,KAAM,GAAG,CAAC,EACrC,KAAK,GAAG,EAEAC,EAAa,CACxB,aACA,OACA,OACA,WACA,QACA,KACF,EClEaC,EAAgBC,GAAU,CACrC,KAAM,CAACC,EAAQC,CAAS,EAAIC,EAAQ,SAAC,EAAI,EAEzCC,EAAAA,UAAU,IAAM,CACTJ,EAAM,cACTE,EAAU,EAAK,CAErB,EAAK,CAACF,EAAM,YAAY,CAAC,EAEvB,MAAMK,EACFxB,EADmBoB,EACNb,EAAeY,EAAM,MAAM,EAC3BA,EAAM,MADsB,EAGvCM,EAAcL,EAASN,EAAYK,EAAM,GAAG,EAAIA,EAAM,IAEtDO,EAAcN,EAASR,EAAYO,EAAM,GAAG,EAAIA,EAAM,IAEtDQ,EAAY,2DAA2DR,EAAM,kBAQnF,MAAO,CAAE,eAAAK,EAAgB,YAAAC,EAAa,YAAAC,EAAa,aAN9B,IAAM,CACrBP,EAAM,cACRE,EAAU,CAACD,CAAM,CAEvB,EAEmE,UAAAO,CAAS,CAC5E"}