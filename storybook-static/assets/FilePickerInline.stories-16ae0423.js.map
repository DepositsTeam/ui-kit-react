{"version":3,"file":"FilePickerInline.stories-16ae0423.js","sources":["../../src/components/file-picker-inline/FilePickerInline.jsx"],"sourcesContent":["import React, { useRef, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"../../scss/textfield.scss\";\nimport \"./FilePickerInline.scss\";\nimport Box from \"../box\";\nimport Text from \"../text\";\nimport classNames from \"../../utils/classNames\";\nimport inputPropTypes, { defaultProps } from \"../../utils/inputPropTypes\";\nimport ErrorIcon from \"../icons/Error.jsx\";\nimport Icon from \"../icon\";\nimport { useFilePicker } from \"../../utils/hooks/useFilePicker.hook\";\nimport Button from \"../button\";\n\nconst FilePickerInline = ({\n  size,\n  labelFontFace,\n  labelClass,\n  variant,\n  label,\n  disabled,\n  fontFace,\n  btnText,\n  placeholder,\n  onChange,\n  onCleared,\n  accepts,\n  errorMessage,\n  maxFiles,\n  fileMaxSize,\n  ...props\n}) => {\n  const file = useRef(null);\n  const [inputIsHovered, setInputIsHovered] = useState(false);\n\n  const {\n    updateName,\n    computedErrorMessage,\n    computedAccepts,\n    selectedFileName,\n  } = useFilePicker(\n    {\n      accepts,\n      errorMessage,\n      onChange,\n      onCleared,\n      maxFiles,\n      fileMaxSize,\n    },\n    file\n  );\n\n  return variant === \"inline\" ? (\n    <Box\n      className={classNames([\n        \"ui-text-field__wrapper d-file-picker-inline\",\n        `size__${size}`,\n        `variant__${variant}`,\n      ])}\n    >\n      {!!label && variant !== \"button\" && (\n        <Box is={\"label\"}>\n          <Text\n            marginTop={0}\n            scale={\"subhead\"}\n            fontFace={labelFontFace}\n            className={classNames([\"ui-text-field__label\", labelClass])}\n          >\n            {label}\n          </Text>\n        </Box>\n      )}\n      <Box display=\"inline-flex\" className={`pseudo-input ${disabled}`}>\n        <Box\n          is={\"input\"}\n          ref={file}\n          {...props}\n          disabled={disabled}\n          onChange={updateName}\n          accept={computedAccepts}\n          type={\"file\"}\n        />\n        <Box\n          display={\"flex\"}\n          alignItems={\"center\"}\n          className={classNames({\n            \"ui-text-field__input\": true,\n            \"has-error\": computedErrorMessage,\n          })}\n        >\n          <Text\n            marginY={0}\n            scale={\"subhead\"}\n            fontFace={fontFace}\n            className={classNames({\n              placeholder: selectedFileName === placeholder,\n            })}\n          >\n            {selectedFileName}\n          </Text>\n        </Box>\n        <Box className={\"pseudo-button\"}>\n          <Text scale={\"subhead\"} fontFace={\"hero-new\"} marginY={0}>\n            {btnText}\n          </Text>\n        </Box>\n      </Box>\n      {computedErrorMessage && (\n        <Box className={\"ui-text-field__error\"}>\n          <Icon icon={ErrorIcon} className={\"ui-text-area__error-icon\"} />\n          <Text\n            className={\"ui-text-field__error-text\"}\n            scale={\"subhead\"}\n            fontFace={\"circularSTD\"}\n          >\n            {computedErrorMessage}\n          </Text>\n        </Box>\n      )}\n    </Box>\n  ) : (\n    <Box className={\"ui-text-field__wrapper d-file-picker-inline-btn\"}>\n      <Box\n        is={\"input\"}\n        ref={file}\n        disabled={disabled}\n        onChange={updateName}\n        accept={computedAccepts}\n        onMouseEnter={() => setInputIsHovered(true)}\n        onMouseLeave={() => setInputIsHovered(false)}\n        type={\"file\"}\n      />\n      <Button className={classNames({ hover: inputIsHovered })} {...props}>\n        {btnText}\n      </Button>\n    </Box>\n  );\n};\n\nexport default FilePickerInline;\n\nFilePickerInline.propTypes = {\n  ...inputPropTypes,\n  placeholder: PropTypes.string,\n  btnText: PropTypes.string,\n  fileMaxSize: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  accepts: PropTypes.oneOfType([\n    PropTypes.array,\n    PropTypes.oneOf([\"image\", \"document\", \"csv\"]),\n  ]),\n  variant: PropTypes.oneOf([\"inline\", \"button\"]),\n  onChange: PropTypes.func,\n  onCleared: PropTypes.func,\n};\n\nFilePickerInline.defaultProps = {\n  ...defaultProps,\n  placeholder: \"No file selected...\",\n  btnText: \"Choose File\",\n  fileMaxSize: 100,\n  accepts: [\".csv\", \".xls\", \".xlsx\", \".pdf\"],\n  variant: \"inline\",\n};\n"],"names":["FilePickerInline","size","labelFontFace","labelClass","variant","label","disabled","fontFace","btnText","placeholder","onChange","onCleared","accepts","errorMessage","maxFiles","fileMaxSize","props","file","useRef","inputIsHovered","setInputIsHovered","useState","updateName","computedErrorMessage","computedAccepts","selectedFileName","useFilePicker","jsxs","Box","classNames","jsx","Text","Icon","ErrorIcon","Button","FilePickerInline$1","inputPropTypes","PropTypes","defaultProps"],"mappings":"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"}