{"version":3,"file":"ProgressBar.stories-32897d75.js","sources":["../../src/components/progress-bar/ProgressBar.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Box from \"../box\";\nimport classNames from \"../../utils/classNames\";\nimport \"./ProgressBar.scss\";\nimport { DarkModeContext } from \"../providers/DarkModeProvider.jsx\";\nimport { ThemeContext } from \"../providers/ThemeProvider.jsx\";\n\nconst ProgressBar = ({\n  variant,\n  percentage,\n  totalSteps,\n  currentStep,\n  fillColor,\n  emptyColor,\n  darkFillColor,\n  darkEmptyColor,\n  height,\n  ...props\n}) => {\n  const [computedWidth, setComputedWidth] = useState(0);\n  const { darkMode } = useContext(DarkModeContext);\n  const { theme } = useContext(ThemeContext);\n\n  useEffect(() => {\n    if (percentage) {\n      setComputedWidth(percentage);\n    } else {\n      if (currentStep !== undefined && totalSteps !== undefined) {\n        setComputedWidth(Math.round((currentStep / totalSteps) * 100));\n      } else setComputedWidth(0);\n    }\n  }, [percentage, currentStep, totalSteps]);\n\n  const computedThemeStyles = darkMode\n    ? {\n        \"--fill-color\": darkFillColor || theme[\"--dark-primary-action-color\"],\n        \"--empty-color\": darkEmptyColor\n          ? emptyColor\n          : variant === \"variant-2\"\n          ? theme[\"--dark-primary-200\"]\n          : \"#384860\",\n        \"--height\": height,\n      }\n    : {\n        \"--fill-color\": fillColor || theme[\"--light-primary-action-color\"],\n        \"--empty-color\":\n          emptyColor || variant === \"variant-2\"\n            ? theme[\"--light-primary-200\"]\n            : \"#384860\",\n        \"--height\": props.height,\n      };\n\n  return (\n    <Box\n      className={classNames({ \"ui-progress-bar\": true, [variant]: variant })}\n      style={{ ...computedThemeStyles }}\n    >\n      <Box\n        className={classNames({\n          \"ui-progress-bar__active\": true,\n          [variant]: variant,\n        })}\n        style={{ \"--width\": `${computedWidth}%` }}\n      />\n    </Box>\n  );\n};\n\nexport default ProgressBar;\n\nProgressBar.propTypes = {\n  percentage: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  totalSteps: PropTypes.number,\n  currentStep: PropTypes.number,\n  fillColor: PropTypes.string,\n  emptyColor: PropTypes.string,\n  darkFillColor: PropTypes.string,\n  darkEmptyColor: PropTypes.string,\n  variant: PropTypes.oneOf([\"variant-1\", \"variant-2\"]),\n  height: PropTypes.string,\n};\n\nProgressBar.defaultProps = {\n  variant: \"variant-1\",\n  height: \"6px\",\n};\n"],"names":["ProgressBar","variant","percentage","totalSteps","currentStep","fillColor","emptyColor","darkFillColor","darkEmptyColor","height","props","computedWidth","setComputedWidth","useState","darkMode","useContext","DarkModeContext","theme","ThemeContext","useEffect","computedThemeStyles","jsx","Box","classNames","ProgressBar$1","PropTypes"],"mappings":"2RAQA,MAAMA,EAAc,CAAC,CACnB,QAAAC,EACA,WAAAC,EACA,WAAAC,EACA,YAAAC,EACA,UAAAC,GACA,WAAAC,EACA,cAAAC,GACA,eAAAC,GACA,OAAAC,GACA,GAAGC,EACL,IAAM,CACJ,KAAM,CAACC,GAAeC,CAAgB,EAAIC,WAAS,CAAC,EAC9C,CAAE,SAAAC,EAAA,EAAaC,EAAA,WAAWC,EAAe,EACzC,CAAE,MAAAC,CAAA,EAAUF,EAAA,WAAWG,EAAY,EAEzCC,EAAAA,UAAU,IAAM,CAEZP,EADEV,IAGEE,IAAgB,QAAaD,IAAe,OAC7B,KAAK,MAAOC,EAAcD,EAAc,GAAG,EACtC,EAJG,CAM5B,EAAA,CAACD,EAAYE,EAAaD,CAAU,CAAC,EAExC,MAAMiB,GAAsBN,GACxB,CACE,eAAgBP,IAAiBU,EAAM,6BAA6B,EACpE,gBAAiBT,GACbF,EACAL,IAAY,YACZgB,EAAM,oBAAoB,EAC1B,UACJ,WAAYR,EAAA,EAEd,CACE,eAAgBJ,IAAaY,EAAM,8BAA8B,EACjE,gBACEX,GAAcL,IAAY,YACtBgB,EAAM,qBAAqB,EAC3B,UACN,WAAYP,GAAM,MAAA,EAItB,OAAAW,EAAA,IAACC,EAAA,CACC,UAAWC,EAAW,CAAE,kBAAmB,GAAM,CAACtB,CAAO,EAAGA,EAAS,EACrE,MAAO,CAAE,GAAGmB,EAAoB,EAEhC,SAAAC,EAAA,IAACC,EAAA,CACC,UAAWC,EAAW,CACpB,0BAA2B,GAC3B,CAACtB,CAAO,EAAGA,CAAA,CACZ,EACD,MAAO,CAAE,UAAW,GAAGU,KAAiB,CAAA,CAC1C,CAAA,CAAA,CAGN,EAEAa,EAAexB,EAEfA,EAAY,UAAY,CACtB,WAAYyB,EAAU,UAAU,CAACA,EAAU,OAAQA,EAAU,MAAM,CAAC,EACpE,WAAYA,EAAU,OACtB,YAAaA,EAAU,OACvB,UAAWA,EAAU,OACrB,WAAYA,EAAU,OACtB,cAAeA,EAAU,OACzB,eAAgBA,EAAU,OAC1B,QAASA,EAAU,MAAM,CAAC,YAAa,WAAW,CAAC,EACnD,OAAQA,EAAU,MACpB,EAEAzB,EAAY,aAAe,CACzB,QAAS,YACT,OAAQ,KACV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}