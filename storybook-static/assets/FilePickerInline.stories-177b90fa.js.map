{"version":3,"file":"FilePickerInline.stories-177b90fa.js","sources":["../../src/components/file-picker-inline/FilePickerInline.jsx"],"sourcesContent":["import React, { useRef, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"../../scss/textfield.scss\";\nimport \"./FilePickerInline.scss\";\nimport Box from \"../box\";\nimport Text from \"../text\";\nimport classNames from \"../../utils/classNames\";\nimport inputPropTypes, { defaultProps } from \"../../utils/inputPropTypes\";\nimport ErrorIcon from \"../icons/Error.jsx\";\nimport Icon from \"../icon\";\nimport { useFilePicker } from \"../../utils/hooks/useFilePicker.hook\";\nimport Button from \"../button\";\n\nconst FilePickerInline = ({\n  size,\n  labelFontFace,\n  labelClass,\n  variant,\n  label,\n  disabled,\n  fontFace,\n  btnText,\n  placeholder,\n  onChange,\n  onCleared,\n  accepts,\n  errorMessage,\n  maxFiles,\n  fileMaxSize,\n  ...props\n}) => {\n  const file = useRef(null);\n  const [inputIsHovered, setInputIsHovered] = useState(false);\n\n  const {\n    updateName,\n    computedErrorMessage,\n    computedAccepts,\n    selectedFileName,\n  } = useFilePicker(\n    {\n      accepts,\n      errorMessage,\n      onChange,\n      onCleared,\n      maxFiles,\n      fileMaxSize,\n    },\n    file\n  );\n\n  return variant === \"inline\" ? (\n    <Box\n      className={classNames([\n        \"ui-text-field__wrapper d-file-picker-inline\",\n        `size__${size}`,\n        `variant__${variant}`,\n      ])}\n    >\n      {!!label && variant !== \"button\" && (\n        <Box is={\"label\"}>\n          <Text\n            marginTop={0}\n            scale={\"subhead\"}\n            fontFace={labelFontFace}\n            className={classNames([\"ui-text-field__label\", labelClass])}\n          >\n            {label}\n          </Text>\n        </Box>\n      )}\n      <Box display=\"inline-flex\" className={`pseudo-input ${disabled}`}>\n        <Box\n          is={\"input\"}\n          ref={file}\n          {...props}\n          disabled={disabled}\n          onChange={updateName}\n          accept={computedAccepts}\n          type={\"file\"}\n        />\n        <Box\n          display={\"flex\"}\n          alignItems={\"center\"}\n          className={classNames({\n            \"ui-text-field__input\": true,\n            \"has-error\": computedErrorMessage,\n          })}\n        >\n          <Text\n            marginY={0}\n            scale={\"subhead\"}\n            fontFace={fontFace}\n            className={classNames({\n              placeholder: selectedFileName === placeholder,\n            })}\n          >\n            {selectedFileName}\n          </Text>\n        </Box>\n        <Box className={\"pseudo-button\"}>\n          <Text scale={\"subhead\"} fontFace={\"hero-new\"} marginY={0}>\n            {btnText}\n          </Text>\n        </Box>\n      </Box>\n      {computedErrorMessage && (\n        <Box className={\"ui-text-field__error\"}>\n          <Icon icon={ErrorIcon} className={\"ui-text-area__error-icon\"} />\n          <Text\n            className={\"ui-text-field__error-text\"}\n            scale={\"subhead\"}\n            fontFace={\"circularSTD\"}\n          >\n            {computedErrorMessage}\n          </Text>\n        </Box>\n      )}\n    </Box>\n  ) : (\n    <Box className={\"ui-text-field__wrapper d-file-picker-inline-btn\"}>\n      <Box\n        is={\"input\"}\n        ref={file}\n        disabled={disabled}\n        onChange={updateName}\n        accept={computedAccepts}\n        onMouseEnter={() => setInputIsHovered(true)}\n        onMouseLeave={() => setInputIsHovered(false)}\n        type={\"file\"}\n      />\n      <Button className={classNames({ hover: inputIsHovered })} {...props}>\n        {btnText}\n      </Button>\n    </Box>\n  );\n};\n\nexport default FilePickerInline;\n\nFilePickerInline.propTypes = {\n  ...inputPropTypes,\n  placeholder: PropTypes.string,\n  btnText: PropTypes.string,\n  fileMaxSize: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  accepts: PropTypes.oneOfType([\n    PropTypes.array,\n    PropTypes.oneOf([\"image\", \"document\", \"csv\"]),\n  ]),\n  variant: PropTypes.oneOf([\"inline\", \"button\"]),\n  onChange: PropTypes.func,\n  onCleared: PropTypes.func,\n};\n\nFilePickerInline.defaultProps = {\n  ...defaultProps,\n  placeholder: \"No file selected...\",\n  btnText: \"Choose File\",\n  fileMaxSize: 100,\n  accepts: [\".csv\", \".xls\", \".xlsx\", \".pdf\"],\n  variant: \"inline\",\n};\n"],"names":["FilePickerInline","size","labelFontFace","labelClass","variant","label","disabled","fontFace","btnText","placeholder","onChange","onCleared","accepts","errorMessage","maxFiles","fileMaxSize","props","file","useRef","inputIsHovered","setInputIsHovered","useState","updateName","computedErrorMessage","computedAccepts","selectedFileName","useFilePicker","jsxs","Box","classNames","jsx","Text","Icon","ErrorIcon","Button","FilePickerInline$1","inputPropTypes","PropTypes","defaultProps"],"mappings":"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"}