{"version":3,"file":"Counter.stories-c2739b32.js","sources":["../../src/components/counter/Counter.jsx"],"sourcesContent":["import React from \"react\";\nimport classNames from \"../../utils/classNames\";\nimport \"../../scss/textfield.scss\";\nimport \"./Counter.scss\";\nimport PropTypes from \"prop-types\";\nimport { useState, useEffect } from \"react\";\nimport number_format from \"../../utils/number_format\";\nimport Box from \"../box\";\nimport Text from \"../text\";\nimport { Error as ErrorIcon } from \"../icons\";\n\nconst Counter = ({\n  label,\n  size,\n  max,\n  min,\n  errorMessage,\n  coloredButtons,\n  labelClass,\n  labelFontFace,\n  inputClass,\n  disabled,\n  decimal,\n  alterMagnitude,\n  spacing,\n  value,\n  onChange,\n  className,\n  ...props\n}) => {\n  const [internalValue, setInternalValue] = useState(null);\n  const [formattedValue, setFormattedValue] = useState(0);\n\n  useEffect(() => {\n    setInternalValue(value);\n  }, []);\n\n  useEffect(() => {\n    if (onChange && typeof onChange === \"function\") {\n      onChange(internalValue);\n    }\n    if (decimal) {\n      setFormattedValue(number_format(internalValue, 2));\n    } else {\n      setFormattedValue(internalValue);\n    }\n  }, [internalValue]);\n\n  const increase = () => {\n    const temp = internalValue + alterMagnitude;\n    setInternalValue((max === 0 || !!max) && temp >= max ? max : temp);\n  };\n  const decrease = () => {\n    const temp = internalValue - alterMagnitude;\n    setInternalValue((min === 0 || !!min) && temp <= min ? min : temp);\n  };\n\n  return (\n    <Box\n      className={`ui-counter ${className ?? className}`}\n      style={{\n        \"--counter-spacing\": spacing,\n      }}\n    >\n      <Box className={classNames([\"ui-text-field__wrapper\", `size__${size}`])}>\n        {!!label && (\n          <Box is=\"label\">\n            <Text\n              marginTop=\"0px\"\n              className={classNames({\n                \"ui-text-field__label\": true,\n                [labelClass]: labelClass,\n              })}\n              scale=\"subhead\"\n              fontFace={labelFontFace}\n            >\n              {label}\n            </Text>\n          </Box>\n        )}\n        <Box className=\"ui-text-field__input-wrapper\">\n          <Box\n            is={\"button\"}\n            className={classNames({\n              \"ui-text-field--counter_input_button left\": true,\n              coloredButtons,\n            })}\n            onClick={decrease}\n          >\n            -\n          </Box>\n          <Box\n            is={\"input\"}\n            className={classNames({\n              \"ui-text-field__input\": true,\n              \"has-error\": errorMessage,\n              disabled,\n              [inputClass]: true,\n            })}\n            value={formattedValue}\n            readonly\n            {...props}\n          />\n          <Box\n            is={\"button\"}\n            className={classNames({\n              \"ui-text-field--counter_input_button right\": true,\n              coloredButtons,\n            })}\n            onClick={increase}\n          >\n            +\n          </Box>\n        </Box>\n        {!!errorMessage && (\n          <Box className=\"ui-text-field__error\">\n            <ErrorIcon className=\"ui-text-field__error-icon\" />\n            <Text\n              className=\"ui-text-field__error-text\"\n              scale=\"subhead\"\n              fontFace=\"circularSTD\"\n            >\n              {errorMessage}\n            </Text>\n          </Box>\n        )}\n      </Box>\n    </Box>\n  );\n};\n\nexport default Counter;\n\nCounter.propTypes = {\n  label: PropTypes.string,\n  size: PropTypes.oneOf([\n    \"small\",\n    \"medium\",\n    \"large\",\n    \"xlarge\",\n    \"huge\",\n    \"massive\",\n  ]),\n  errorMessage: PropTypes.string,\n  coloredButtons: PropTypes.bool,\n  labelClass: PropTypes.string,\n  inputClass: PropTypes.string,\n  disabled: PropTypes.bool,\n  decimal: PropTypes.bool,\n  alterMagnitude: PropTypes.number,\n  spacing: PropTypes.string,\n  value: PropTypes.number,\n  onChange: PropTypes.func,\n  max: PropTypes.number,\n  min: PropTypes.number,\n};\n\nCounter.defaultProps = {\n  size: \"huge\",\n  spacing: \"16px\",\n  alterMagnitude: 1,\n  value: 0,\n};\n"],"names":["Counter","label","size","max","min","errorMessage","coloredButtons","labelClass","labelFontFace","inputClass","disabled","decimal","alterMagnitude","spacing","value","onChange","className","props","internalValue","setInternalValue","useState","formattedValue","setFormattedValue","useEffect","number_format","increase","temp","decrease","jsx","Box","jsxs","classNames","Text","ErrorIcon","Counter$1","PropTypes"],"mappings":"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"}