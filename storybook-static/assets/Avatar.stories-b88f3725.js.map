{"version":3,"file":"Avatar.stories-b88f3725.js","sources":["../../src/components/avatar/utils/getInitials.js","../../src/components/avatar/Avatar.jsx"],"sourcesContent":["const getInitials = (name, fallback = \"?\") => {\n\tif (!name || typeof name  !== \"string\") return fallback;\n\treturn name\n\t\t.replace(/\\s+/, \" \")\n\t\t.split(\" \")\n\t\t.slice(0, 3)\n\t\t.map((firstLetter) => firstLetter && firstLetter[0])\n\t\t.join(\"\");\n};\n\nexport default  getInitials;\n","import React from \"react\";\nimport \"./Avatar.scss\";\nimport Box from \"../box\";\nimport classNames from \"../../utils/classNames\";\nimport getInitials from \"./utils/getInitials\";\nimport PropTypes from \"prop-types\";\nimport Text from \"../text\";\nimport Icon from \"../icon\";\nimport ChevronFilledDown from \"../icons/ChevronFilledDown.jsx\";\nimport keyGen from \"../../utils/keyGen\";\n\nconst colorSchemes = [\"cyan\", \"green\", \"orange\", \"red\", \"gray\", \"blue\"];\n\nconst generateAvatarColorScheme = (avatar, index) => {\n  return (\n    avatar.colorScheme ||\n    (index < colorSchemes.length\n      ? colorSchemes[index]\n      : colorSchemes[index % colorSchemes.length])\n  );\n};\n\nconst generateAvatarClassName = (avatar, index = 0) =>\n  classNames(\n    {\n      [`background__${generateAvatarColorScheme(avatar, index)}`]:\n        !avatar.imgURL,\n      [`status__${avatar.status}`]: avatar.status,\n    },\n    \"ui-avatar\"\n  );\n\nconst Avatar = ({\n  avatar,\n  subtle,\n  dropdown,\n  size,\n  visibleAvatars,\n  stacked,\n  avatars,\n  className,\n  ...props\n}) => {\n  const wrapperClassName = classNames(\n    {\n      \"ui-avatars__wrapper\": true,\n      subtle,\n      [`size__${size}`]: true,\n      padded: avatars.length & !stacked,\n      stacked: avatars.length && stacked,\n    },\n    className\n  );\n\n  const extraAvatars =\n    avatars && avatars.length ? avatars.length - visibleAvatars : 0;\n\n  const avatarFactory = (avatar, index = 0) => (\n    <>\n      <div\n        style={{\n          ...(avatar.imgURL\n            ? { backgroundImage: `url(${avatar.imgURL})` }\n            : {}),\n        }}\n        className={generateAvatarClassName(avatar, index)}\n      >\n        {!avatar.imgURL && (\n          <Text equalLineHeight scale={size === \"small\" ? \"overline\" : \"footnote\"}>\n            {getInitials(avatar.name)}\n          </Text>\n        )}\n        {avatar.status && !stacked && (\n          <div className={\"ui-avatar__avatar-status\"} />\n        )}\n      </div>\n      {dropdown && !stacked && (\n        <Icon className={\"ui-avatar__dropdown-icon\"} icon={ChevronFilledDown} />\n      )}\n    </>\n  );\n\n  const generatedAvatars = avatars.length ? (\n    avatars.slice(0, visibleAvatars).map((avatar, index) => (\n      <div key={`ui-avatar__${keyGen()}`} className={\"ui-avatar__wrapper\"}>\n        {avatarFactory(avatar, index)}\n      </div>\n    ))\n  ) : (\n    <div className={\"ui-avatar__wrapper\"}>{avatarFactory(avatar)}</div>\n  );\n\n  return (\n    <Box is={\"div\"} className={wrapperClassName} {...props}>\n      {generatedAvatars}\n      {extraAvatars > 0 && (\n        <div className={\"ui-avatar__wrapper\"}>\n          <div className={\"ui-avatar background__extra\"}>\n            <Text scale={size === \"small\" ? \"overline\" : \"footnote\"}>\n              +{extraAvatars}\n            </Text>\n          </div>\n        </div>\n      )}\n    </Box>\n  );\n};\n\nAvatar.propTypes = {\n  subtle: PropTypes.bool,\n  stacked: PropTypes.bool,\n  size: PropTypes.oneOf([\"small\", \"medium\", \"large\"]),\n  avatar: PropTypes.object,\n  avatars: PropTypes.array,\n  dropdown: PropTypes.bool,\n  visibleAvatars: PropTypes.number,\n};\n\nAvatar.defaultProps = {\n  subtle: false,\n  stacked: false,\n  size: \"large\",\n  avatar: {\n    name: \"Eric Aprioku\",\n  },\n  dropdown: false,\n  visibleAvatars: 6,\n  avatars: [],\n};\n\nexport default Avatar;\n"],"names":["getInitials","name","fallback","firstLetter","colorSchemes","generateAvatarColorScheme","avatar","index","generateAvatarClassName","classNames","Avatar","subtle","dropdown","size","visibleAvatars","stacked","avatars","className","props","wrapperClassName","extraAvatars","avatarFactory","jsxs","Fragment","jsx","Text","Icon","ChevronFilledDown","generatedAvatars","keyGen","Box","PropTypes","Avatar$1"],"mappings":"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"}